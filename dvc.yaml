stages:
  train:
    cmd: python train.py
    deps:
      - data/MNIST
      - train.py
    params:
      - params.yaml:
    outs:
      - model.pt:
          checkpoint: true
    metrics:
      - training/metrics.json:
          persist: true
          cache: false
    plots:
      - training/plots/metrics
      - training/plots/images
      - training/plots/sklearn/confusion_matrix.json:
          template: confusion
          x: actual
          y: predicted
